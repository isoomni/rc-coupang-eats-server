# coupang_eats_test_server_riley


### 2021-07-31 진행상황

+ 서버 구축 관련

  + EC2 인스턴스 구축 완료

  + RDS 데이터베이스 구축 완료, springboot 파일과 연결 완료

  + dev/prod 서버 구축 완료 

  + SSL 구축 완료

+ 데이터베이스 구조인 ERD 설계 중 (50%)
+ 기획서 변동 사항 - 슬랙에 공유된 사항인데, 클라이언트 피드백 후에 검색 기능 api 추가하였습니다.
+ 개발 도중 이슈 - 깃 사용이 미숙하여 시간이 오래 걸렸습니다. 현재는 해결하였고 이 때문에 오늘 커밋을 12시 정각에 하게 되었습니다. 이상 다른 이슈는 아직 없습니다.

---
### 2021-08-01 진행상황

+ ERD 설계 완료
  + URL : https://aquerytool.com/aquerymain/index/?rurl=bad78625-9791-4f8f-bb93-fdfb78ba34f5&
  + Password : beclo5

+ API 명세서
  + https://docs.google.com/spreadsheets/d/1ghpBzbkuGIGYgz-G0PtDwOhoU1f9tUqA9pspYJd8YZY/edit?usp=sharing

+ API 명세서 Index 페이지 작성 완료
+ 홈 화면 조회 API 명세서 작성 완료
+ 클라이언트와 API 명세서 공유 완료

+ 개발 도중 이슈

  1. 식당 검색 API - 검색 창에서 식당을 검색할 때, MENU 이름 혹은 식당 이름 으로 검색하게 됩니다. 이런 경우 쿼리 스트링을 OR 로 묶어서 둘 중에 어떤 값을 받아도 해당 식당들이 검색되도록 할 수 있는지 궁금합니다.
  
  2. 쿠팡 잇츠에서 전화번호가 010-****-5615 이런식으로 표시 되는 경우 **** 으로 바뀌는 것은 클라이언트의 역할인가요 서버의 역할인가요? 전화번호만 넘겨주면 될지 궁금합니다.
  
  3. 작성한 '즐겨찾기 가게 삭제 api' 의 주소가 헷갈립니다. 즐겨찾기 가게를 삭제한다는 것이 실제 앱에서는 즐겨찾기 페이지에서 삭제를 하는 것이 아니라 가게 상세 페이지의 하트 표시를 해제해야 삭제가 됩니다. 등록 역시 마찬가지입니다. 현재는 즐겨찾기 페이지에서 등록 및 삭제한다고 가정하고 api 명세서에 주소를 작성해 놓은 상태입니다.

---
### 2021-08-02 진행상황

+ 1번 홈 화면 조회 API 설계 완료  + postman get 확인
  
+ spring 파일 product 파일에 업로드 완료


### 1차 피드백

+ 1번 api 에 대한 피드백
  
  :white_check_mark: home 화면 구축 시에 새로 들어왔어요 추가하기

  :white_check_mark: home 화면 구축 시에 골라먹는 맛집에서 필터 추가하기

  :white_check_mark: 골라먹는 맛집 사진 추가
  
+ API 명세서 인덱스 리스트 피드백
  
  :white_check_mark: 검색 api 는 후순위로 -> 기획서 수정 (클라이언트와 상의 필요)  
  
  :white_check_mark: api 명세서에 배달 주소 등록 api, 결제 수단 등록 api, 사용자가 가지고 있는 쿠폰 조회 api, 주문 내역 api, 주문 api 등 추가  
  
  :white_check_mark: 주문 api 와 주문 내역 api 샘플 사진 필요(구하지 못했을 때 한나에게 물어보기) 

  :white_check_mark: 식당 등록 api 등 사용자 관점이 아니라 식당 주인 관점의 api 가장 후순위로 개발  

  :white_large_square: 15번 특정 유저 즐겨찾기 가게 삭제 api에서 body에 restaurantIdx와 status를 모두 넘겨주자.  
  
+ ERD 피드백(쿠폰)
  
  사용자 인덱스랑 쿠폰 인덱스를 포함하는 '사용자가 가지고 있는(활성화한) 쿠폰 테이블 만들기  
  
+ 진행에 대한 피드백
  
  다음주 월요일까지 api 최소 20개 이상 구현

+ 개발 도중 이슈
  
  :white_check_mark: default schema 변경 방법 질문 -> dao 오류 찍어서 sq overflow에 올리기  
  

---
### 2021-08-03 진행상황
+ spring 연결 완료 / test log 확인 -> 오랜 시간 소요
  
+ 홈 화면 api 정상적으로 업로드 확인
  
+ default schema 변경 방법 sq-overflow에 질문 완료 
  
+ 검색 api 후순위로 개발 순서 변경하고 싶다는 의사 클라이언트에게 전달 -> 개발 순서 변경 됨.
  
+ 주문 api 와 주문 내역 api 샘플 사진 확보
  
+ 개발 도중 이슈 
  
  + 홈 화면 api 업로드 시 404 에러
    
    + 에러 원인 1: 깃 사용법 미숙으로 인해 서버에 제대로 업로드 되지 않아서 발생한 문제 (문제 해결!)
      
    + 에러 원인 2: 로컬(External Libraries-java 14)과 서버(11.0.11)자바 버전 불일치 (로컬 java 11로 변경하여 해결!)
  
---
### 2021-08-04 진행상황

+ 홈 화면 api에 피드백 받은 내용 추가
  
  + 새로 들어왔어요 추가
    
  + 골라먹는 맛집에서 필터 추가(치타 배달, 쿠폰 여부 추가) - 첫 날 클라이언트와 기획성 작성 시에 정렬은 제외하고 필터 추가하자고 논의함.
    
  + 추가한 내용 모두 클라이언트에게 전달 -> 클라이언트 개인 사정으로 아직 api를 엮지 못함.
  
+ 클라이언트와 데이터 규격 등에 대해 논의
  
  + 원하는 이미지 사이즈나 내용 등에 대해 상의 후 데이터 베이스 업데이트 후 클라이언트에게 전달
  
+ nohup 연결 후 클라이언트에게 전달

+ 개발 도중 이슈
  
  + 어려웠던 점: 골라먹는 맛집 쿼리에 사진 두 개를 묶어서 넣는 방법을 모름
    
  + 해결 시도: 쿼리 두개를 각각 작성 후 getFilteredRes 에 합쳐 넣으려고 했으나 오류를 해결하지 못함.
    
  + 해결이 되었는지: 아직 해결이 되지 않았고 개발 팀장님께 도움을 요청
  
+ 오늘 추가로 진행할 내용
  
  + api 만들기(초기 환경 설정 등으로 인해 진도가 매우 느린 상태)

---
### 2021-08-05 진행상황

+ 카테고리 api 개발 완료 후 클라이언트에게 상황 전달
  
+ 메뉴 api 개발 중
  
+ 개발 도중 이슈 1
  
  + 어려웠던 점: 리스트 안에 리스트를 넣는 방법을 몰라서 도움 요청
    
  + 해결 시도: 테이블에 이미지 칼럼 추가해서 사용
    
  + 해결이 되었는지: 해당 사항은 해결이 되었으나 메뉴 api에서도 list 안에 list를 가져 올 상황이 있어서 provider 부분에 for문을 사용하는 방법을 강구해야 할 듯 함.
  
+ 개발 도중 이슈 2
  
  + 어려웠던 점: 서버가 터졌다.(터미널 종료 후 재로그인이 되지 않았다.)
    
  + 해결 시도: sq_overflow 에서 인스턴스를 껐다 켜라는 조언을 받고 껐다 켰다. 그 과정에서 ip 주소가 바뀌어서 바뀐 ip 주소로 모두 변경해 주었고, 앞으로는 ip 주소가 바뀌는 일이 없도록 탄력적 ip를 연결해주었다.

  + 해결이 되었는지: 현재 잘 연결이 되는 상태이다.
  
+ 클라이언트와 회의 진행
  
  + 클라이언트 개인 사정이 많았어서 오늘부터 home api 를 엮기 시작한다고 하셨다.
  + 검색 api 는 확실히 후순위로 미루기로 했다. 
  + 쿼리스트링에 대해 알려드리고 쿼리스트링을 어떤 식으로 엮을 것인지 클라이언트의 계획을 공유 받았다.
  + 데이터에 넣어드린 사진에 대한 검토는 아직이라고 하셨다. 검토 요청했다.
  + home api 의 구성이 캡쳐 사진과 조금 다른 점을 전달하였다. (첫 번째 캡쳐 사진에는 '새로 들어왔어요'와 '쿠폰 배너'가 없고 두번째 캡쳐 사진에는 '골라먹는 맛집'이 없어서 합쳐서 세 개 요소 모두 api에 넣었다는 점)

---
### 2021-08-06 진행상황

+ 식당 별 메뉴 조회 api 개발 완료 후 서버 업로드 완료

+ 리뷰 조회 api 개발 완료 후 서버 업로드 완료 (쿼리스트링: 사진 리뷰, 조회순 구현)

+ 개발 도중 이슈 1

  + 어려웠던 점: 로컬 9000번 포트에서 [web server failed to start. port 9000 was already in use.] 에러가 발생했다.
  + 해결 시도: 사용 중인 pid 를 kill 해주려고 여러 번 시도하였으나 kill이 되지 않았다. 구글링을 해보니 간혹 kill이 되지 않는 좀비 프로세스도 있다고 한다. 
  + 해결이 되었는지: 포트를 9090 번으로 바꿔준 후 잘 실행되었다.
  
+ 개발 도중 이슈 2

  + 어려웠던 점: 리뷰 조회 api에서 날짜를 '오늘','1일 전', '지난 주' 등으로 표시해 주어야 하는 경우가 있었는데 경우의 수가 매우 많았고 이름을 이**님으로 교체해 주는 등 새로 구현해보는 쿼리 방식이 많아서 시간이 많이 걸렸다.
  + 해결이 되었는지: 시간만 오래 걸렸을 뿐 구현에는 문제가 없었다. 잘 해결되었다.
  
+ 로그인, 회원가입 등 user 관련 api 개발 중

---
### 2021-08-07 진행상황

+ 회원가입, 로그인 api 개발 완료

+ 클라이언트에게 이미지 url 수정 요청 받고 수정

+ 클라이언트에게 홈 api 정렬 관련 수정 요청 받고 수정

+ 개발 도중 어려웠던 점 없었음. 많은 시간을 투자하지 못함.

---
### 2021-08-08 진행상황

+ 로그인 회원가입 api 수정 및 업로드

+ 카트 조회, 등록, 수정, 삭제 api 개발 완료
